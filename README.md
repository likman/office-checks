Office checks
============================

Это приложение для отметки начала рабочего дня в офисе для сотрудников.
Сотрудники отмечаются путем сканирования личного QR кода в мобильном приложении (пока не публиковал).
Удаленщики могут отмечаться сами через веб.


Требования
------------

PHP 7.2-7.3


Установка
------------

Установите зависимости через composer

```
composer install
```

Попасть в веб интерфейс можно по ссылке:

~~~
http://localhost/web/
~~~


Конфигурация
-------------
1. Создайте базу данных.
2. Отредактируйте настройки в папке `config/`.
3. Создайте структуру БД через команду `yii migrate`
4. Можете авторизоваться с именем пользователя `100500` и паролем `100500`.
5. Создайте или импортируйте сотрудников.
6. Создайте мероприятия для отметок.
7. Создайте или импортируйте привязки сотрудников к мероприятиям.

Защита RDP через Mikrotik
------------
Если веб приложение хостится в офисе, то вы можете ограничить доступ к RDP по IP адресу, если у вас шлюзом является Mikrotik. 
У каждого сотрудника должен быть свой порт через который он подключается к RDP.
На Mikrotik у вас должен быть настроен dstnat с перенаправлением с внешнего порта на компьютер пользователя на порт 3389 (RDP).

Задайте параметры для входа в Mikrotik через `config/params.php`

Сотрудник должен зайти в веб интерфейс и перейти по ссылке `Получить доступ к рабочему столу`, вписать номер своего порта. 
После этого подключиться к RDP на данный порт можно будет только с IP пользователя. Если IP поменялся, нужно проделать операцию еще раз.